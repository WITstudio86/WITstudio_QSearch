- 宏定义以及导出宏到 crate:root 中的方式

```rust
mod macro_mod{
    // 如果希望模块外使用这个宏需要加下面这个
    #[macro_export]// 把add!()导出到当前crate root下了
    macro_rules! add {
        ($($x:expr), +) => {
            {
                let mut get_sum = 0;
                $(
                    get_sum += $x;
                )+
                get_sum
            }
        }
    }
    
    #[macro_export]
    macro_rules! add2 {
        ($($x:expr), +) => {
            {
                0
                $( + $x) +
            }
        };
    }
}

fn main() {
    println!("{}",add!(1,2,3,4,5));
    println!("{}", add2!(1, 2, 3, 4, 5));
}

#[cfg(test)]
mod test{
    use crate::add;
    use crate::add2;
    #[test]
    fn test_add_macro() {
        assert_eq!(add!(1,2,3,4,5), 15);
        assert_eq!(add2!(1, 2, 3, 4, 5), 15);
    }
}
```
> æ¥æº: [01ï½œå¿«é€Ÿå…¥é—¨ï¼šRustä¸­æœ‰å“ªäº›ä½ ä¸å¾—ä¸äº†è§£çš„åŸºç¡€è¯­æ³•ï¼Ÿ-Rust è¯­è¨€ä»å…¥é—¨åˆ°å®æˆ˜-æå®¢æ—¶é—´ (geekbang.org)](https://time.geekbang.org/column/article/718865)


# å®‰è£…

## æŒ‡ä»¤

```shell
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

## å®‰è£…çš„å·¥å…·

- cargo
	- `cargo new --bin project_name` åˆå§‹åŒ–é¡¹ç›®
	- `cargo build` ç¼–è¯‘é¡¹ç›®ä»£ç 
	- `cargo run` æ‰§è¡Œé¡¹ç›®ä»£ç 
- `rustup`
	- æ›´æ–°å·¥å…· , `rustup update stable` å°† Rust Stable æ›´æ–°åˆ°æœ€æ–°
- rust-fmt
	- æ ¼å¼æ’ç‰ˆå·¥å…· `cargo fmt`
- rust-clippy
	- ä¸¥è°¨æ€§æ£€æŸ¥ `cargo clippy`
- rustc
	- ç¼–è¯‘`.rs` æ–‡ä»¶ `rustc filename.rs`
	- æŸ¥çœ‹ç‰ˆæœ¬ `rustc -V`


# åŸºæœ¬è¯­æ³•

## å˜é‡
Rust ä¸­ä½¿ç”¨ let å…³é”®å­—å®šä¹‰å˜é‡åŠåˆå§‹åŒ–
```rust
fn main() {
  let a: u32 = 1;
}
```


## æ•°å­—ç±»å‹
- Rust ä¸­çš„æ•°å­—ç±»å‹æ˜¯åŒºåˆ†ä½æ•°çš„ã€‚
- isize å’Œ usize çš„ä½æ•°ä¸å…·ä½“ CPU æ¶æ„ä½æ•°æœ‰å…³ã€‚CPU æ˜¯ 64 ä½çš„ï¼Œå®ƒä»¬å°±æ˜¯ 64 ä½çš„ï¼ŒCPU æ˜¯ 32 ä½çš„ï¼Œå®ƒä»¬å°±æ˜¯ 32 ä½çš„
```rust
let a = 10u32;// è¿™äº›æ•´æ•°ç±»å‹å¯ä»¥åœ¨å†™å­—é¢é‡çš„æ—¶å€™ä½œä¸ºåç¼€è·Ÿåœ¨åé¢
let b = 10.0_f32;
```

### æ•´æ•°å­—é¢é‡
- åè¿›åˆ¶å­—é¢é‡ 98_222ï¼Œä½¿ç”¨ä¸‹åˆ’çº¿æŒ‰ä¸‰ä½æ•°å­—ä¸€ç»„éš”å¼€
- åå…­è¿›åˆ¶å­—é¢é‡ 0xffï¼Œä½¿ç”¨0xå¼€å¤´
- 8è¿›åˆ¶å­—é¢é‡ 0o77ï¼Œä½¿ç”¨0oï¼ˆå°å†™å­—æ¯oï¼‰å¼€å¤´
- äºŒè¿›åˆ¶å­—é¢é‡ 0b1111_0000ï¼Œä½¿ç”¨0bå¼€å¤´ï¼ŒæŒ‰4ä½æ•°å­—ä¸€ç»„éš”å¼€
- å­—ç¬¦çš„å­—èŠ‚è¡¨ç¤º b'A'ï¼Œå¯¹ä¸€ä¸ªASCIIå­—ç¬¦ï¼Œåœ¨å…¶å‰é¢åŠ bå‰ç¼€ï¼Œç›´æ¥å¾—åˆ°æ­¤å­—ç¬¦çš„ASCIIç å€¼

### å¸ƒå°”
```rust
let a = true;
let b: bool = false;
```

### å­—ç¬¦
```rust
fn main() {
    let c = 'z';
    let z: char = 'â„¤'; 
    let heart_eyed_cat = 'ğŸ˜»';
    let t = 'ä¸­';
}
```
> Rust çš„ char ç±»å‹å­˜çš„æ˜¯ Unicode æ•£åˆ—å€¼ã€‚è¿™æ„å‘³ç€å®ƒå¯ä»¥è¡¨è¾¾å„ç§ç¬¦å·ï¼Œæ¯”å¦‚ä¸­æ–‡ç¬¦å·ã€emoji ç¬¦å·ç­‰ã€‚åœ¨ Rust ä¸­ï¼Œchar ç±»å‹åœ¨å†…å­˜ä¸­æ€»æ˜¯å ç”¨ 4 ä¸ªå­—èŠ‚å¤§å°ã€‚

### å­—ç¬¦ä¸²

- String å†…éƒ¨å­˜å‚¨çš„æ˜¯ Unicode å­—ç¬¦ä¸²çš„ UTF8 ç¼–ç ï¼Œè€Œ char ç›´æ¥å­˜çš„æ˜¯ Unicode Scalar Valueï¼ˆäºŒè€…çš„åŒºåˆ«å¯æŸ¥é˜…è¿™é‡Œï¼‰ã€‚
- ä¸èƒ½é€šè¿‡ä¸‹æ ‡è®¿é—® , å› ä¸ºå³ä½¿ç´¢å¼•è®¿é—®æˆåŠŸä¹Ÿåªèƒ½è·å–å…¶ä¸­ä¸€ä¸ªå­—èŠ‚ , è¿™æ˜¯æ²¡æœ‰æ„ä¹‰çš„
- *æ‰€æœ‰å­—é¢é‡éƒ½æ”¯æŒæ¢è¡Œä¹¦å†™*
```rust
let hello = String::from("ä½ å¥½");
let a = hello[0];  // ä½ å¯èƒ½æƒ³æŠŠâ€œä½ â€å­—å–å‡ºæ¥ï¼Œä½†å®é™…ä¸Šè¿™æ ·æ˜¯é”™è¯¯çš„
```
> è®¿é—®æ–¹å¼: [è®¿é—®stringä¸­çš„å­—ç¬¦](../../å…¶ä»–ç§¯ç´¯/Rust/è®¿é—®stringä¸­çš„å­—ç¬¦.md)


#### å­—ç¬¦ä¸²è½¬ä¹‰
```rust
fn main() {
    // å°†""å·è¿›è¡Œè½¬ä¹‰
    let byte_escape = "I'm saying \"Hello\"";
    println!("{}", byte_escape);
    
    // åˆ†ä¸¤è¡Œæ‰“å°
    let byte_escape = "I'm saying \n ä½ å¥½";
    println!("{}", byte_escape);
    
    // Windowsä¸‹çš„æ¢è¡Œç¬¦
    let byte_escape = "I'm saying \r\n ä½ å¥½";
    println!("{}", byte_escape);
    
    // æ‰“å°å‡º \ æœ¬èº«
    let byte_escape = "I'm saying \\ Ok";
    println!("{}", byte_escape);
    
    // å¼ºè¡Œåœ¨å­—ç¬¦ä¸²åé¢åŠ ä¸ª0ï¼Œä¸Cè¯­è¨€çš„å­—ç¬¦ä¸²ä¸€è‡´ã€‚
    let byte_escape = "I'm saying hello.\0";
    println!("{}", byte_escape);
}
```

#### è¾“å‡º ASCII å­—ç¬¦æˆ– Unicode å­—ç¬¦

```rust
fn main() {
    // ä½¿ç”¨ \x è¾“å…¥ç­‰å€¼çš„ASCIIå­—ç¬¦ï¼ˆæœ€é«˜7ä½ï¼‰
    let byte_escape = "I'm saying hello \x7f";
    println!("{}", byte_escape);
    
    // ä½¿ç”¨ \u{} è¾“å…¥ç­‰å€¼çš„Unicodeå­—ç¬¦ï¼ˆæœ€é«˜24ä½ï¼‰
    let byte_escape = "I'm saying hello \u{0065}";
    println!("{}", byte_escape);
}
```
> I'm saying hello 
  I'm saying hello e


#### ç¦æ­¢è½¬ä¹‰å­—ç¬¦ä¸²å­—é¢é‡
```rust
fn main() {
    // å­—ç¬¦ä¸²å­—é¢é‡å‰é¢åŠ rï¼Œè¡¨ç¤ºä¸è½¬ä¹‰
    let raw_str = r"Escapes don't work here: \x3F \u{211D}";
    println!("{}", raw_str);
    
    // è¿™ä¸ªå­—é¢é‡å¿…é¡»ä½¿ç”¨r##è¿™ç§å½¢å¼ï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›åœ¨å­—ç¬¦ä¸²å­—é¢é‡é‡Œé¢ä¿ç•™""
    let quotes = r#"And then I said: "There is no escape!""#;
    println!("{}", quotes);
    
    // å¦‚æœé‡åˆ°å­—é¢é‡é‡Œé¢æœ‰#å·çš„æƒ…å†µï¼Œå¯ä»¥åœ¨råé¢ï¼ŒåŠ ä»»æ„å¤šçš„å‰åé…å¯¹çš„#å·ï¼Œ
    // åªè¦èƒ½å¸®åŠ©Rustç¼–è¯‘å™¨è¯†åˆ«å°±è¡Œ
    let longer_delimiter = r###"A string with "# in it. And even "##!"###;
    println!("{}", longer_delimiter);
}
```



## æ•°ç»„
- æ•°ç»„çš„ç´¢å¼•è¶Šç•Œçš„è¯ä¼šæŠ¥é”™
```rust
fn main() {
    let a: [i32; 5] = [1, 2, 3, 4, 5];
    let a = [1, 2, 3, 4, 5];
    let b = a[5]; 
    println!("{}", b);
```
> æ•°ç»„é•¿åº¦åœ¨ç¼–è¯‘æœŸå·²ç»ç¡®å®š , æ‰€ä»¥å­˜å‚¨åœ¨æ ˆä¸­


## åŠ¨æ€æ•°ç»„

```rust
fn main() {
    let v: Vec<i32> = Vec::new();
    let v = vec![1, 2, 3];
    
    let mut v = Vec::new();
    v.push(5);
    v.push(6);
    v.push(7);
    v.push(8);
    println!("{:?}", v[0]);
}
```

> æ³¨æ„ , Vector çš„ç´¢å¼•è¶Šç•Œä¸ä¼šåœ¨ç¼–è¯‘æœŸå°±å‘ç°é”™è¯¯ , å› ä¸ºvectorçš„é•¿åº¦åœ¨ç¼–è¯‘æœŸä¸æ˜¯å›ºå®šçš„ , æ˜¯æœªçŸ¥çš„ , æ‰€ä»¥åªèƒ½åœ¨æ‰§è¡Œçš„æ—¶å€™å‡ºç°é”™è¯¯


## å“ˆå¸Œè¡¨
- Rust ä¸­è¦æ±‚é”®æ˜¯åŒä¸€ç§ç±»å‹

```rust
fn main() {
    use std::collections::HashMap;
    
    let mut scores = HashMap::new();
    scores.insert(String::from("Blue"), 10);
    scores.insert(String::from("Yellow"), 50);
}
```

## å¤åˆç±»å‹

### å…ƒç»„
- æ˜¯å…ƒç´ ç±»å‹äº’ç›¸å¯ä»¥*ä¸åŒçš„æ•°ç»„*
- è®¿é—®ä¹Ÿæ˜¯ç´¢å¼• , ä¸è¿‡æ˜¯é€šè¿‡`.index` çš„æ–¹å¼è·å–
- å¸¸ç”¨ä¸å‡½æ•°çš„è¿”å›å€¼ , å¯ä»¥è¿”å›å¤šä¸ªå€¼ 
- **å½“æ²¡æœ‰ä»»ä½•å…ƒç´ çš„æ—¶å€™ï¼Œå…ƒç»„é€€åŒ–æˆ ()ï¼Œå°±å«åš unit ç±»å‹ï¼Œæ˜¯ Rust ä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„åŸºç¡€ç±»å‹å’Œå€¼ï¼Œunit ç±»å‹å”¯ä¸€çš„å€¼å®ä¾‹å°±æ˜¯ ()ï¼Œä¸å…¶ç±»å‹æœ¬èº«çš„è¡¨ç¤ºç›¸åŒã€‚æ¯”å¦‚ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼çš„æ—¶å€™ï¼Œå®ƒå®é™…é»˜è®¤è¿”å›çš„æ˜¯è¿™ä¸ª unit å€¼ã€‚** 
```rust
fn main() {
    let x: (i32, f64, u8) = (500, 6.4, 1);
    
    // å…ƒç»„ä½¿ç”¨.è¿ç®—ç¬¦è®¿é—®å…¶å…ƒç´ ï¼Œä¸‹æ ‡ä»0å¼€å§‹ï¼Œæ³¨æ„è¯­æ³•
    let five_hundred = x.0;
    let six_point_four = x.1;
    let one = x.2;
}
```


### ç»“æ„ä½“

- ç»“æ„ä½“ç”±å¤šä¸ªå­—æ®µç»„æˆ
- å¯ä»¥å®ä¾‹åŒ– . ç±»ä¼¼äº Python ä¸­çš„ç±»
```rust
// åˆ›å»ºç»“æ„ä½“
struct User {
    active: bool,
    username: String,
    email: String,
    age: u64,
}
// å®ä¾‹åŒ– User
fn main() {
    let user1 = User {
        active: true,
        username: String::from("someusername123"),
        email: String::from("someone@example.com"),
        age: 1,
    };
}
```

### æšä¸¾

- ä½¿ç”¨ `enum` å®šä¹‰
- å¯ä»¥ä½œä¸ºå…¶ä»–ç±»å‹çš„æ‰¿è½½ , é€šè¿‡å˜ä½“è¿›è¡Œå®ä¾‹åŒ– , æ¯ä¸ªå˜ä½“éƒ½æ˜¯å½“å‰æšä¸¾ç±»å‹

```rust
enum IpAddrKind {
    V4,
    V6,
}

let four = IpAddrKind::V4;
let six = IpAddrKind::V6;
```

## æ§åˆ¶æµ